# 杂谈-01-软件使用杂谈

[TOC]


## 更新
* 2022/05/05，撰写




## Homebrew


### FAQ

> FAQ 1
> Failed to connect to raw.githubusercontent.com

若安装过程中遇到 `Failed to connect to raw.githubusercontent.com 443 after 5 ms: Connection refused lbs@lbsmacbook-pro ~ % /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"` 错误，解决办法有 2 个
* 方法1：直接访问 `https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh`，将 `install.sh` 保存在本地，然后执行 `/bin/bash  install.sh`
* 方法2：参考 [github 部分域名DNS解析 | blog](https://blog.51cto.com/u_3826358/3832035)，在 [www.ipaddress.com](https://www.ipaddress.com/) 网站上查询 `raw.githubusercontent.com` 的IP地址，并将 `199.232.68.133 raw.githubusercontent.com` 配置到本机 host文件中。


> FAQ 2
> Could not resolve HEAD to a revision

若安装过程中遇到 `fatal: Could not resolve HEAD to a revision`, 参考 [Homebrew discussions ](https://github.com/Homebrew/discussions/discussions/1512)，执行如下命令进行修复。


```s
rm -rf $(brew --repo homebrew/core)
brew tap homebrew/core
```


### 安装

* Install - [brew.sh | HomeBrew官网](https://brew.sh/)

```s
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
```

注意，安装前需要配置好git SSH 证书。若安装成功，会出现如下提示。

```s
==> Installation successful!

==> Homebrew has enabled anonymous aggregate formulae and cask analytics.
Read the analytics documentation (and how to opt-out) here:
  https://docs.brew.sh/Analytics
No analytics data has been sent yet (nor will any be during this install run).

==> Homebrew is run entirely by unpaid volunteers. Please consider donating:
  https://github.com/Homebrew/brew#donations

==> Next steps:
- Run brew help to get started
- Further documentation:
    https://docs.brew.sh
```

### 使用

* `brew doctor`：Homebrew 检查
* `brew config`：查看当前 Homebrew 的配置信息。
* `brew list`：查看当前已安装的软件
* `brew info xxx`：查看某个安装项的信息，如执行 `brew info mysql`



###  Homebrew 镜像源加速
* [Mac修改brew国内源以加快下载速度](https://www.jianshu.com/p/c6ecbce5464f)
* [腾讯云 Homebrew镜像加速](https://zhuanlan.zhihu.com/p/72251385)
* [Homebrew 安装包失败 & 切换源 & 安装缓慢的解决过程 | 掘金](https://juejin.im/post/6844904020557971464)



此处介绍腾讯云镜像加速的使用。

1. 替换 brew.git

```s
cd "$(brew --repo)"
git remote set-url origin https://mirrors.cloud.tencent.com/homebrew/brew.git
```

2. 替换 homebrew-core.git

```s
cd "$(brew --repo)/Library/Taps/homebrew/homebrew-core"
git remote set-url origin https://mirrors.cloud.tencent.com/homebrew/homebrew-core.git
```

3. 更新 bottles源

```s
echo 'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.cloud.tencent.com/homebrew-bottles' >> ~/.bash_profile
source ~/.bash_profile
```


4. 使用 `brew config` 可以查看当前 Homebrew 的配置信息。


```s
lbsMacBook-Pro:~ lbs$ brew config
HOMEBREW_VERSION: 2.2.13-dirty
ORIGIN: https://mirrors.cloud.tencent.com/homebrew/brew.git
HEAD: 3d9cf83fec45a75af61551f53d25383abe009d31
Last commit: 9 weeks ago
Core tap ORIGIN: https://mirrors.cloud.tencent.com/homebrew/homebrew-core.git
Core tap HEAD: fa7cc183982c73c9b84bc704e7e866898d9bf482
Core tap last commit: 8 weeks ago
HOMEBREW_PREFIX: /usr/local
HOMEBREW_BOTTLE_DOMAIN: https://mirrors.cloud.tencent.com/homebrew-bottles
HOMEBREW_MAKE_JOBS: 12
CPU: dodeca-core 64-bit kabylake
Homebrew Ruby: 2.6.3 => /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/bin/ruby
Clang: 11.0 build 1103
Git: 2.24.3 => /Applications/Xcode.app/Contents/Developer/usr/bin/git
Curl: 7.64.1 => /usr/bin/curl
Java: 1.8.0_231
macOS: 10.15.4-x86_64
CLT: 11.0.33.12
Xcode: 11.5
```




## 腾讯COS图床
* 暂使用[腾讯COS](https://console.cloud.tencent.com/cos5)（`Cloud Object Storage`）作图床
* 参考 [腾讯COS图床配置-1](https://flydust.me/use-cos-in-wordpress) 和 [腾讯COS图床配置-2](https://cooguyan.github.io/2018/04/20/%E4%BD%BF%E7%94%A8%E8%85%BE%E8%AE%AF%E4%BA%91%E5%AF%B9%E8%B1%A1%E5%AD%98%E5%82%A8%E4%BD%9C%E4%B8%BA%E5%9B%BE%E5%BA%8A/) 完成基本设置，下载[COSBrowser](https://cloud.tencent.com/document/product/436/11366)工具，辅助图床使用
* 云API秘钥
    - APPID：1257458714
    - SecretID：AKIDnYCjAUImfNuHSSn8nHaihXEkvukPOAGM
    - SecretKey：HdtyvgFdw6rRq6B4lIdicKqDPQGvLZbQ
    


## 腾讯云服务器
* [腾讯云](https://console.cloud.tencent.com/lighthouse/instance/index)
* 轻量应用服务器（TencentCloud Lighthouse）主机名：CentOS-JWbM
* 云服务器系统镜像：CentOS 8.0

```s
[root@VM-4-16-centos ~]# cat /etc/redhat-release
CentOS Linux release 8.0.1905 (Core) 
```

* 实例规格：2核2G，40G硬盘
* IP地址
    - (公)124.221.158.191
    - (内)10.0.4.16 
* 用户名/密码： root/linux113459...
* SSH连接云服务器

```s
ssh root@124.221.158.191
```

## VS Code插件
* GitLens
* LeetCode
* Markdown All in One
* Markdown Preview Enhanced


## IDEA插件
* GitToolBox
* Maven Helper
* JClassLib ByteCode Viewer


## Mac无法休眠 进程查看
* [macOS无法息屏睡眠解决方案](https://blog.csdn.net/abc5z7/article/details/100063086) 

在终端执行 `pmset -g`,查看是否又被阻挡。



```s
pmset -g

//查看 sleep 有无被阻挡
 sleep                10
```




## 掘金博客阅读量


在控制台执行下面代码，可用于刷博客阅读量。


```js
setInterval(()=>{
   with(document){
        write("<iframe height='100%' width='100%' src='"+location.href+"'></iframe>")
        void(close());
    }; 
},8000)
```

或者脚本执行 curl 命令，shell 脚本文件内容如下。

```s
#!/bin/bash
n=0
while (($n<2))
do
    n=$((n+1))
    echo "请求次数:" ${n} "code:"  $(curl -sIL -w "%{http_code}" -o /dev/null https://juejin.cn/post/7103848212154286087)
    sleep 10
done
echo "success"
```

使用 `sh batchCurl.sh` 执行脚本。

```s
lbsMacBook-Pro:downloads lbs$ sh batchCurl.sh
请求次数: 1 code: 200
请求次数: 2 code: 200
success
```